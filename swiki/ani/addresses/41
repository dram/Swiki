| children |"Find all the pages that have this page as parent page"children _ book pages select: [:i |	page id = (i settingsAt: 'parent' ifAbsent: [nil])].request security ifNil: ["Include only the viewable pages"	children _ children select: [:i | book aniAllowViewPage: i]]."Sort them according to time"children _ children asSortedCollection: [:x :y | (x date = y date) ifTrue: [x time > y time] ifFalse: [x date > y date]].children _ children asOrderedCollection."Cut them off at 10 entries"(children size > 10) ifTrue: [	children _ children copyFrom: 1 to: 10].String streamContents: [:stream |	stream		nextPutAll: '<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/">';		nextPutAll: String crlf;		nextPutAll: '<channel>';		nextPutAll: String crlf;		nextPutAll: '<title>';		nextPutAll: page showName;		nextPutAll: '</title>';		nextPutAll: String crlf;		nextPutAll: '<link>';		nextPutAll: (book settingsAt: 'urlPrefix');		nextPutAll: (request referenceShelf: shelf book: book page: page);		nextPutAll: '</link>';		nextPutAll: String crlf;		nextPutAll: '<description>';		nextPutAll: (book formatPageAction: 'rss-description' request: request response: response shelf: shelf page: page);		nextPutAll: '</description>';		nextPutAll: String crlf;		nextPutAll: '<language>en-us</language>';		nextPutAll: String crlf.	children do: [:child | stream		nextPutAll: '<item>';		nextPutAll: String crlf;		nextPutAll: '<title>';		nextPutAll: child showName;		nextPutAll: '</title>';		nextPutAll: String crlf;		nextPutAll: '<link>';		nextPutAll: (book settingsAt: 'urlPrefix');		nextPutAll: (request referenceShelf: shelf book: book page: child);		nextPutAll: '</link>';		nextPutAll: String crlf;		nextPutAll: '<description>';		nextPutAll: (book formatPageAction: 'rss-description' request: request response: response shelf: shelf page: child);		nextPutAll: '</description>';		nextPutAll: String crlf;		nextPutAll: '<dc:creator>';		nextPutAll: (book formatPageAction: 'user-plaintext' request: request response: response shelf: shelf page: child);		nextPutAll: '</dc:creator>';		nextPutAll: String crlf;		nextPutAll: '<dc:date>';		nextPutAll: child printDateForRSS;		nextPutAll: '</dc:date>';		nextPutAll: String crlf;		nextPutAll: '</item>';		nextPutAll: String crlf].	stream		nextPutAll: '</channel>';		nextPutAll: String crlf;		nextPutAll: '</rss>']