"Create a new page"| newPage |(request fieldsHasKey: 'name')	ifTrue: [(book hasPageNamed: (request fieldsKey: 'name'))		ifTrue: [response at: 'headerStatus' put: #notFound.			book formatBookTemplate: 'addressNotFound' request: request response: response shelf: shelf]		ifFalse: ["Add New Page"			newPage _ book addNewPage.			newPage				forbidWriting;				date: Date today;				time: Time now;				nameUnique: (request fieldsKey: 'name') book: book;				user: 'unknown'.			request security ifNotNil: [newPage				settingsAt: 'userId' put: request security id].			newPage				newParent: page;				initializeAlertsBook: book;				text: (Dictionary new					at: '1' put: (book formatPageTemplate: 'newText' request: request response: response shelf: shelf page: newPage);					at: '2' put: '';					yourself).			[newPage				user: (shelf formatPrivAddress: 'getIPName' request: request response: response);				write;				permitWriting] fork.			[page				forbidWriting;			 	updateFormatRequest: request response: response shelf: shelf book: book;				permitWriting] fork.			response at: 'headerStatus' put: #tempMoved.			response at: 'location' put: (request referenceShelf: shelf book: book page: newPage address: 'edit').			book formatPageTemplate: 'newSuccess' request: request response: response shelf: shelf page: newPage]]	ifFalse: [response at: 'headerStatus' put: #notFound.		book formatBookTemplate: 'addressNotFound' request: request response: response shelf: shelf]