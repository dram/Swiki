| userId alerts |userId _ request security id.page	forbidWriting;	text: page text."Update Alerts"alerts _ page settingsAt: 'alerts' ifAbsent: [OrderedCollection new].(request fieldsAsBooleanKey: 'alert' ifAbsent: [false])	ifTrue: [(alerts includes: userId) ifFalse: [		alerts add: userId]]	ifFalse: [alerts remove: userId ifAbsent: []].alerts isEmpty	ifTrue: [page settingsRemove: 'alerts']	ifFalse: [page settingsAt: 'alerts' put: alerts].page	write;	permitWriting.response at: 'headerStatus' put: #tempMoved.response at: 'location' put: (request referenceShelf: shelf book: book page: page).book formatPageTemplate: 'saveSuccess' request: request response: response shelf: shelf page: page