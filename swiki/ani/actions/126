"Process Link as Public"| colorScheme accessControl level |colorScheme _ book modulesAt: 'colorScheme'.accessControl _ page accessControl.level _ accessControl accessLevelForRequest: request.String streamContents: [:stream | ((level = 1) or: [accessControl unaccessableToAll])	ifTrue: ["Hide the Link"		stream			nextPutAll: (book formatPageAction: 'aliasName' request: request response: response shelf: shelf page: page)]	ifFalse: ["Show Link"		stream			nextPutAll: '<a class="internal" href="';			nextPutAll: (request referenceShelf: shelf book: book page: page);			nextPutAll: '" title="';			nextPutAll: page showStrictName;			nextPutAll: ': last edited ';			nextPutAll: (book formatPageAction: 'timePast' request: request response: response shelf: shelf page: page);			nextPutAll: ' ago by ';			nextPutAll: (book formatPageAction: 'user-plaintext' request: request response: response shelf: shelf page: page);			nextPutAll: '">';			nextPutAll: (book formatPageAction: 'aliasName' request: request response: response shelf: shelf page: page);			nextPutAll: '</a>'.		(level = 0)			ifTrue: [stream				nextPutAll: (colorScheme button: 'lock-red' title: 'Locked')]			ifFalse: [(accessControl allLevel = 0) ifTrue: [stream				nextPutAll: (colorScheme button: 'lock-green' title: 'Viewable')]]]]