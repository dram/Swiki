(request raw header isKindOf: Dictionary)	ifTrue: [(request raw header includesKey: 'host')		ifTrue: ['http://', (request raw header at: 'host'), (request referenceShelf: shelf book: book address: 'account'), '?user=', ((request fieldsKey: 'user' ifAbsent: [request settingsAt: 'username' ifAbsent: ['none']]) encodeForHTTP)]		ifFalse: ['not available']]	ifFalse: ['not available']