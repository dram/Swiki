| parent pageUploads file |(pageUploads _ (book modulesAt: 'uploads') directoryNamed: (page id asString) ifAbsent: [nil])	ifNil: [(parent _ page parentForRequest: request)		ifNil: [book formatBookAction: 'styleSheet' request: request response: response shelf: shelf]		ifNotNil: [book formatPageAction: 'styleSheet' request: request response: response shelf: shelf page: parent]]	ifNotNil: [(file _ pageUploads fileRefsCacheAt: 'style.css' ifAbsent: [nil])		ifNil: [(parent _ page parentForRequest: request)			ifNil: [book formatBookAction: 'styleSheet' request: request response: response shelf: shelf]			ifNotNil: [book formatPageAction: 'styleSheet' request: request response: response shelf: shelf page: parent]]		ifNotNil: [String streamContents: [:stream | stream			nextPutAll: '<link rel=stylesheet href="';			nextPutAll: (book settingsAt: 'uploadServerPath');			nextPutAll: pageUploads httpPath;			nextPutAll: file last httpName;			nextPutAll: '" type="text/css">';			nextPutAll: String crlf]]]