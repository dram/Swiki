BorderedMorph subclass: #LinkMorph	instanceVariableNames: 'controls '	classVariableNames: ''	poolDictionaries: ''	category: 'Swiki-Navigation'!!LinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:11'!controls: aSwikiControls	controls _ aSwikiControls! !!LinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:16'!url	self subclassResponsibility! !!LinkMorph methodsFor: 'event handling' stamp: 'je77 10/28/2001 18:13'!handlesMouseDown: evt	^true! !!LinkMorph methodsFor: 'event handling' stamp: 'je77 10/28/2001 18:13'!handlesMouseOver: evt	^true! !!LinkMorph methodsFor: 'event handling' stamp: 'je77 10/28/2001 18:15'!jump	"Jump back into browser"	ScreenController new fullScreenOff.	"Jump to page / do NOT save"	StandardFileStream new requestURL: self url target: '_top'! !!LinkMorph methodsFor: 'event handling' stamp: 'je77 10/6/2001 20:00'!mouseEnter: evt	self addMouseActionIndicatorsWidth: 10 color: (Color blue alpha: 0.3)! !!LinkMorph methodsFor: 'event handling' stamp: 'je77 9/24/2001 14:19'!mouseLeave: evt	self deleteAnyMouseActionIndicators.! !!LinkMorph methodsFor: 'event handling' stamp: 'je77 10/19/2001 18:00'!mouseUp: evt	"Check to make sure it is okay to leave"	controls hasChanged ifFalse: [^self jump].	MenuMorph new		defaultTarget: self;		title: ('Changes have not been saved.', String cr, 'Is it OK to cancel those changes?');		add: 'Yes' action: #jump;		add: 'No' action: #yourself;		popUpEvent: self currentEvent in: self currentWorld! !!LinkMorph methodsFor: 'initialization' stamp: 'je77 10/1/2001 14:19'!empty	controls _ nil! !!LinkMorph methodsFor: 'initialization' stamp: 'je77 10/6/2001 20:01'!initialize	super initialize.	self		borderColor: Color black;		borderWidth: 1;		color: Color lightBlue;		changeTableLayout;		layoutInset: 0@0;		hResizing: #shrinkWrap;		vResizing: #shrinkWrap;		cellPositioning: #center;		listCentering: #center;		useRoundedCorners! !!LinkMorph methodsFor: 'initialization' stamp: 'je77 10/19/2001 15:08'!removeSubmorphs	self submorphsDo: [:i | i delete]! !LinkMorph subclass: #ExternalLinkMorph	instanceVariableNames: 'url '	classVariableNames: ''	poolDictionaries: ''	category: 'Swiki-Navigation'!!ExternalLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:22'!url	^url! !!ExternalLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:22'!url: aString	url _ aString! !!ExternalLinkMorph methodsFor: 'initialization' stamp: 'je77 10/28/2001 18:28'!addUrlString	| stringMorph container |	container _ Morph new		color: Color transparent;		changeTableLayout;		layoutInset: 6@2;		listDirection: #leftToRight;		yourself.	stringMorph _ StringMorph contents: self url.	stringMorph emphasis: 1; color: Color blue darker.	container		addMorph: stringMorph;		hResizing: #shrinkWrap;		vResizing: #shrinkWrap.	self addMorphFront: container	! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ExternalLinkMorph class	instanceVariableNames: ''!!ExternalLinkMorph class methodsFor: 'instance creation' stamp: 'je77 10/28/2001 18:40'!newUrl: aString controls: aSwikiControls	^self new		url: aString;		controls: aSwikiControls;		addUrlString;		yourself! !ImageMorph subclass: #StateButtonMorph	instanceVariableNames: 'states state target pressed '	classVariableNames: ''	poolDictionaries: ''	category: 'Swiki-Navigation'!!StateButtonMorph methodsFor: 'initialization' stamp: 'je77 10/25/2001 11:05'!adaptToWorld: aWorld	super adaptToWorld: aWorld.	self target: (target adaptedToWorld: aWorld).! !!StateButtonMorph methodsFor: 'initialization' stamp: 'je77 10/25/2001 13:32'!initialize	super initialize.	states _ Dictionary new.	pressed _ false! !!StateButtonMorph methodsFor: 'accessing' stamp: 'je77 10/25/2001 13:41'!addState: aSymbol form: onForm	self addState: aSymbol withProperties: (Array		with: onForm		with: nil		with: nil		with: nil)! !!StateButtonMorph methodsFor: 'accessing' stamp: 'je77 10/25/2001 13:40'!addState: aSymbol form: onForm downForm: downForm actionSelector: actionSelector	self addState: aSymbol withProperties: (Array		with: onForm		with: downForm		with: actionSelector		with: nil)! !!StateButtonMorph methodsFor: 'accessing' stamp: 'je77 10/25/2001 13:32'!addState: aSymbol form: onForm downForm: downForm actionSelector: actionSelector arguments: args	self addState: aSymbol withProperties: (Array		with: onForm		with: downForm		with: actionSelector		with: args)! !!StateButtonMorph methodsFor: 'accessing' stamp: 'je77 10/25/2001 11:19'!addState: aSymbol withProperties: anArray	states at: aSymbol put: anArray! !!StateButtonMorph methodsFor: 'accessing' stamp: 'je77 10/25/2001 14:49'!pressed: aBoolean	(pressed = aBoolean) ifTrue: [^self].	pressed _ aBoolean.	pressed		ifTrue: [image _ (states at: state) at: 2.			image ifNil: [image _ (states at: state) at: 1]]		ifFalse: [image _ (states at: state) at: 1].	self invalidRect: bounds! !!StateButtonMorph methodsFor: 'accessing' stamp: 'je77 10/25/2001 11:17'!state	^state! !!StateButtonMorph methodsFor: 'accessing' stamp: 'je77 10/25/2001 14:55'!state: newState	"Change the image and invalidate the rect."	newState == state ifTrue: [^ self].	state _ newState.	image _ (states at: state) at: 1.	((self extent) = (image extent)) ifFalse: [		self extent: image extent].	self invalidRect: bounds! !!StateButtonMorph methodsFor: 'accessing' stamp: 'je77 10/25/2001 11:23'!target	^target! !!StateButtonMorph methodsFor: 'accessing' stamp: 'je77 10/25/2001 11:23'!target: receiver	target _ receiver! !!StateButtonMorph methodsFor: 'geometry' stamp: 'je77 10/25/2001 13:38'!extent	"Do it normally"	^ bounds extent! !!StateButtonMorph methodsFor: 'geometry' stamp: 'je77 10/25/2001 13:37'!extent: aPoint	"Do it normally"		self changed.	bounds _ bounds topLeft extent: aPoint.	self layoutChanged.	self changed.! !!StateButtonMorph methodsFor: 'event handling' stamp: 'je77 10/25/2001 14:32'!doButtonAction	| actionSelector args |	actionSelector _ (states at: state) at: 3.	args _ (states at: state) at: 4.	target ifNil: [^self].	actionSelector ifNil: [^self].	args		ifNil: [target perform: actionSelector]		ifNotNil: [target perform: actionSelector withArguments: args]! !!StateButtonMorph methodsFor: 'event handling' stamp: 'je77 10/25/2001 14:32'!handlesMouseDown: evt	^true! !!StateButtonMorph methodsFor: 'event handling' stamp: 'je77 10/25/2001 14:49'!mouseDown: evt	self pressed: true! !!StateButtonMorph methodsFor: 'event handling' stamp: 'je77 10/25/2001 18:02'!mouseMove: evt	self pressed: (self containsPoint: evt cursorPoint)! !!StateButtonMorph methodsFor: 'event handling' stamp: 'je77 10/25/2001 14:56'!mouseUp: evt	pressed ifFalse: [^self].	self doButtonAction.	self pressed: false! !RectangleMorph subclass: #SwikiControls	instanceVariableNames: 'bookUrl pagesInformation pageInformation project hasChanged embedButton fullScreenButton hideFlapsButton showFlapsButton saveButton '	classVariableNames: ''	poolDictionaries: ''	category: 'Swiki-Navigation'!!SwikiControls methodsFor: 'accessing' stamp: 'je77 9/21/2001 17:15'!bookUrl	^bookUrl! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 11:33'!bookUrl: aString	bookUrl _ aString.	self getPagesInformation! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/19/2001 18:00'!hasChanged	^hasChanged! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/25/2001 16:55'!hasChanged: aBoolean	hasChanged _ aBoolean! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/26/2001 11:04'!pageHasMatchingPassword	^pageInformation includesKey: 'matchingPassword'! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 12:50'!pageHeight	^pageInformation at: 'height'! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 12:49'!pageHeight: anInteger	pageInformation at: 'height' put: anInteger! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 11:38'!pageId	^pageInformation at: 'id'! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 11:38'!pageId: anInteger	pageInformation at: 'id' put: anInteger! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/25/2001 17:12'!pageIsLocked	^pageInformation at: 'pageIsLocked' ifAbsent: [		self pageOnServerIsLocked]! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/25/2001 17:13'!pageIsLocked: aBoolean	pageInformation at: 'pageIsLocked' put: aBoolean! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/26/2001 17:51'!pageLockPassword	^pageInformation at: 'pageLockPassword' ifAbsent: [self pageMatchingPassword]! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/25/2001 17:25'!pageLockPassword: aString	pageInformation at: 'pageLockPassword' put: aString! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/26/2001 17:49'!pageMatchingPassword	^pageInformation at: 'matchingPassword' ifAbsent: ['']! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/26/2001 11:41'!pageMatchingPassword: aString	pageInformation at: 'matchingPassword' put: aString! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 11:38'!pageName	^pageInformation at: 'name'! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 11:39'!pageName: aString	pageInformation at: 'name' put: aString! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/25/2001 17:11'!pageOnServerIsLocked	^pageInformation at: 'pageOnServerIsLocked'! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/25/2001 17:10'!pageOnServerIsLocked: aBoolean	pageInformation at: 'pageOnServerIsLocked' put: aBoolean! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 12:50'!pageSize	^(self pageWidth)@(self pageHeight)! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/19/2001 17:59'!pageSize: aPoint	self		pageWidth: aPoint x;		pageHeight: aPoint y;		hasChanged: true! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 12:48'!pageWidth	^pageInformation at: 'width'! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/4/2001 12:49'!pageWidth: anInteger	pageInformation at: 'width' put: anInteger! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 10/8/2001 15:38'!project: aProject	project _ aProject.	self updateAllLinks! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 12/31/2001 14:55'!types	^pageInformation at: 'types'! !!SwikiControls methodsFor: 'accessing' stamp: 'je77 12/31/2001 14:47'!types: aTabbedString	pageInformation at: 'types' put: (aTabbedString findTokens: '	')! !!SwikiControls methodsFor: 'functions' stamp: 'je77 10/28/2001 18:42'!addLinkToNewPageNamed: name	self currentWorld primaryHand attachMorph: (SwikiLinkMorph newName: name controls: self).	self hasChanged: true! !!SwikiControls methodsFor: 'functions' stamp: 'je77 10/19/2001 17:59'!addLinkToPageNumber: pageNumber	| entry |	entry _ (pagesInformation select: [:arr | (arr at: 1) = pageNumber]) at: 1.	self currentWorld primaryHand attachMorph: (SwikiLinkMorph newId: (entry at: 1) controls: self).	self hasChanged: true! !!SwikiControls methodsFor: 'functions' stamp: 'je77 10/28/2001 18:40'!addLinkToUrl: url	self currentWorld primaryHand attachMorph: (ExternalLinkMorph newUrl: url controls: self).	self hasChanged: true! !!SwikiControls methodsFor: 'functions' stamp: 'je77 10/4/2001 11:41'!idForName: name	pagesInformation do: [:arr | ((arr at: 3) = name) ifTrue: [^arr at: 1]].	(self pageName = name) ifTrue: [^self pageId].	^nil! !!SwikiControls methodsFor: 'functions' stamp: 'je77 10/19/2001 15:16'!isThisAProjectLink: aSwikiLink	pagesInformation do: [:arr |		((arr at: 1) = aSwikiLink id) ifTrue: [			^(arr at: 2) not]].	^self error: 'Link is not part of this Swiki'! !!SwikiControls methodsFor: 'functions' stamp: 'je77 10/2/2001 15:20'!nameForLink: aSwikiLink	pagesInformation do: [:arr |		((arr at: 1) = aSwikiLink id) ifTrue: [			^arr at: 3]].	^self error: 'Link cannot be named.'! !!SwikiControls methodsFor: 'functions' stamp: 'je77 9/24/2001 16:32'!thumbnailForLink: aSwikiLink	"Return a thumbnail morph"	| stream |	stream _ RWBinaryOrTextStream on: String new.	stream		nextPutAll: (Url absoluteFromText: (self bookUrl, aSwikiLink id asString, '.thumbnail')) retrieveContents content;		binary;		reset.	^(ImageReadWriter formFromStream: stream) asMorph! !!SwikiControls methodsFor: 'initialize-release' stamp: 'je77 10/26/2001 14:32'!addButtons	| pageInformationButton addLinkButton |	saveButton _ StateButtonMorph new		target: self;		addState: #locked form: (ScriptingSystem formAtKey: #SwikiSaveLocked) downForm: (ScriptingSystem formAtKey: #SwikiSaveLockedDown) actionSelector: #save;		addState: #lockedOkay form: (ScriptingSystem formAtKey: #SwikiSaveLockedOkay) downForm: (ScriptingSystem formAtKey: #SwikiSaveLockedOkayDown) actionSelector: #save;		addState: #normal form: (ScriptingSystem formAtKey: #SwikiSave) downForm: (ScriptingSystem formAtKey: #SwikiSaveDown) actionSelector: #save.	self pageOnServerIsLocked		ifTrue: [saveButton state: #locked]		ifFalse: [saveButton state: #normal].	embedButton _ StateButtonMorph new		target: self;		addState: #inEffect form: (ScriptingSystem formAtKey: #SwikiEmbedIE);		addState: #normal form: (ScriptingSystem formAtKey: #SwikiEmbed) downForm: (ScriptingSystem formAtKey: #SwikiEmbedDown) actionSelector: #embed;		state: #inEffect.	fullScreenButton _ StateButtonMorph new		target: self;		addState: #inEffect form: (ScriptingSystem formAtKey: #SwikiFullScreenIE);		addState: #normal form: (ScriptingSystem formAtKey: #SwikiFullScreen) downForm: (ScriptingSystem formAtKey: #SwikiFullScreenDown) actionSelector: #fullScreen;		state: #normal.		hideFlapsButton _ StateButtonMorph new		target: self;		addState: #inEffect form: (ScriptingSystem formAtKey: #SwikiHideFlapsIE);		addState: #normal form: (ScriptingSystem formAtKey: #SwikiHideFlaps) downForm: (ScriptingSystem formAtKey: #SwikiHideFlapsDown) actionSelector: #hideFlaps;		state: #inEffect.		showFlapsButton _ StateButtonMorph new		target: self;		addState: #inEffect form: (ScriptingSystem formAtKey: #SwikiShowFlapsIE);		addState: #normal form: (ScriptingSystem formAtKey: #SwikiShowFlaps) downForm: (ScriptingSystem formAtKey: #SwikiShowFlapsDown) actionSelector: #showFlaps;		state: #normal.		pageInformationButton _ StateButtonMorph new		target: self;		addState: #normal form: (ScriptingSystem formAtKey: #SwikiPageInformation) downForm: (ScriptingSystem formAtKey: #SwikiPageInformationDown) actionSelector: #pageInformationMenu;		state: #normal.		addLinkButton _ StateButtonMorph new		target: self;		addState: #normal form: (ScriptingSystem formAtKey: #SwikiAddLink) downForm: (ScriptingSystem formAtKey: #SwikiAddLinkDown) actionSelector: #addLinkMenu;		state: #normal.		self		addMorph: saveButton;		addMorph: (self transparentSpacerOfSize: 2@2);		addMorph: addLinkButton;		addMorph: (self transparentSpacerOfSize: 2@2);		addMorph: pageInformationButton;		addMorph: (self transparentSpacerOfSize: 2@2);		addMorph: showFlapsButton;		addMorph: hideFlapsButton;		addMorph: (self transparentSpacerOfSize: 2@2);		addMorph: fullScreenButton;		addMorph: embedButton! !!SwikiControls methodsFor: 'initialize-release' stamp: 'je77 10/4/2001 11:37'!getPagesInformation	| asString tokens pageId |	asString _ (Url absoluteFromText: (self bookUrl, 'pages')) retrieveContents content.	pagesInformation _ OrderedCollection new.	asString linesDo: [:line | (line size > 0) ifTrue: [		tokens _ line findTokens: '	'.		pagesInformation add: (Array			with: (tokens at: 1) asNumber			with: ((tokens at: 2) = 'true')			with: (tokens at: 3))]].	"Remove self, because links to self are strange"	pageId _ self pageId.	pagesInformation _ pagesInformation select: [:arr | ((arr at: 1) = pageId)		ifTrue: [self pageName: (arr at: 3). false]		ifFalse: [true.]]! !!SwikiControls methodsFor: 'initialize-release' stamp: 'je77 10/19/2001 17:58'!initialize	super initialize.	pageInformation _ Dictionary new.	hasChanged _ false! !!SwikiControls methodsFor: 'initialize-release' stamp: 'je77 10/26/2001 12:43'!openAsMorph	self		color: (Color fromString: '#FFFF99');		borderColor: (Color fromString: '#333399');		position: 1@1;		useRoundedCorners;		changeTableLayout;		layoutInset: 2@2;		addButtons;		hResizing: #shrinkWrap;		vResizing: #shrinkWrap;		openInWorld;		beSticky;		project: CurrentProjectRefactoring xxxCurrent! !!SwikiControls methodsFor: 'initialize-release' stamp: 'je77 10/28/2001 18:42'!updateAllLinks	project world submorphsDo: [:i | (i isKindOf: LinkMorph) ifTrue: [		i controls: self]]! !!SwikiControls methodsFor: 'page creation' stamp: 'je77 12/31/2001 14:59'!createLink: aSwikiLink asType: type	| name args id |	name _ aSwikiLink name.	args _ Dictionary new.	args		at: 'name' put: (Array with: name);		at: 'type' put: (Array with: type).	id _ (HTTPSocket httpPostDocument: self createUrl args: args accept: nil request: '') content asNumber.	pagesInformation add: (Array with: id with: (type beginsWith: 'text-') with: name).	aSwikiLink		id: id;		controls: self! !!SwikiControls methodsFor: 'page creation' stamp: 'je77 12/31/2001 16:55'!createUrl	^self bookUrl, (self pageId asString), '.newProject'! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/6/2001 22:05'!attachUrl	^self bookUrl, self pageId asString, '.attach'! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/28/2001 18:42'!emptyAllLinks	| referenceCache id |	referenceCache _ OrderedCollection new.	self currentWorld allMorphsDo: [:i |		(i isKindOf: SwikiLinkMorph) ifTrue: [			id _ i id.			id isNumber ifTrue: [referenceCache addIfNotPresent: id]].		(i isKindOf: LinkMorph) ifTrue: [i empty]].	pageInformation at: 'referenceCache' put: referenceCache! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/26/2001 11:15'!passwordUrl	^self bookUrl, self pageId asString, '.matchPassword'! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/4/2001 13:54'!referencesString	^String streamContents: [:stream |		(pageInformation at: 'referenceCache') do: [:i |			stream				nextPutAll: i asString;				nextPut: $	]]! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/26/2001 21:28'!saveAndForwardTo: url	"Save project to server"	| request |	"Make sure it is okay to save"	(self pageOnServerIsLocked) ifTrue: [		self pageHasMatchingPassword ifFalse: [			request _ FillInTheBlank request: ('This page is locked.', String cr, 'To save, enter the password.').			request isEmpty ifTrue: [^self].			(self serverPasswordMatches: request) ifFalse: [				PopUpMenu notify: 'That password does not match'.				^self].			self pageMatchingPassword: request.			self pageLockPassword: request.]].	"Hide flaps and controls"	project flapsSuppressed: true.	self delete.	self emptyAllLinks.	self uploadThumbnailAndProject.	self savePageInformation.	"Reload the page"	StandardFileStream new requestURL: url target: '_top'! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/26/2001 17:51'!savePageInformation	| args |	args _ Dictionary new.	args		at: 'name' put: (Array with: self pageName);		at: 'width' put: (Array with: self pageWidth asString);		at: 'height' put: (Array with: self pageHeight asString);		at: 'text' put: (Array with: self saveText);		at: 'references' put: (Array with: self referencesString).	self pageOnServerIsLocked ifTrue: [args		at: 'password' put: (Array with: self pageMatchingPassword)].	self pageIsLocked ifTrue: [args		at: 'lockPassword' put: (Array with: self pageLockPassword)].	^HTTPSocket httpPostDocument: self saveUrl args: args accept: nil request: ''! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/4/2001 13:52'!saveText	^String streamContents: [:stream |		self currentWorld allMorphsDo: [:i |			(i isKindOf: TextMorph) ifTrue: [				stream nextPutAll: (i asText asString); cr]]]! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/6/2001 22:05'!saveUrl	^self bookUrl, self pageId asString, '.saveProject'! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/26/2001 17:44'!serverPasswordMatches: password	^(HTTPSocket httpPostDocument: self passwordUrl args: (Dictionary new at: 'password' put: (Array with: password); yourself) accept: nil request: '') content = 'true'! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/26/2001 21:07'!uploadThumbnailAndProject	| squeakletsDir thumbForm file args |	squeakletsDir _ FileDirectory default directoryNamed: 'Squeaklets'.	"Generate Thumbnail"	(squeakletsDir fileExists: 'thumb.gif') ifTrue: [squeakletsDir deleteFileNamed: 'thumb.gif'].	file _ squeakletsDir newFileNamed: 'thumb.gif'.	project setViewSize: (Display extent // 8).	thumbForm _ project makeThumbnail colorReduced.	thumbForm depth > 8 ifTrue: [thumbForm _ thumbForm asFormOfDepth: 8].	GIFReadWriter putForm: thumbForm onStream: file.	file close.	"Full Screen off"	ScreenController new fullScreenOff.	"Generate Project"	(squeakletsDir fileExists: 'project.pr') ifTrue: [squeakletsDir deleteFileNamed: 'project.pr'].	"Give this project a lobotomy"	project forgetExistingURL.	project resourceManager: nil.	project exportSegmentFileName: 'project.pr' directory: squeakletsDir.	"Upload Both"	args _ Dictionary new.	args		at: 'specific' put: #('true');		at: 'reference' put: #('false');		at: 'filestuff' put: (Array with: ((MIMELocalFileDocument contentType: 'none' contentStream: (squeakletsDir readOnlyFileNamed: 'project.pr')) withUrl: (Url absoluteFromText: 'file:/project.pr')) with: ((MIMELocalFileDocument contentType: 'image/gif' contentStream: (squeakletsDir readOnlyFileNamed: 'thumb.gif')) withUrl: (Url absoluteFromText: 'file:/thumbnail.gif'))).	self pageOnServerIsLocked ifTrue: [args		at: 'password' put: (Array with: self pageMatchingPassword)].	^HTTPSocket httpPostMultipart: self attachUrl args: args accept: nil request: ''! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/6/2001 20:54'!viewUrl	^self viewUrlForId: self pageId! !!SwikiControls methodsFor: 'publishing' stamp: 'je77 10/6/2001 22:05'!viewUrlForId: id	^self bookUrl, id asString! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/28/2001 18:36'!addLinkMenu	"Create a link to a page on the Swiki"	| aMenu projects texts showProjects showTexts aSubMenu |	projects _ pagesInformation select: [:arr | (arr at: 2) not].	texts _ pagesInformation select: [:arr | arr at: 2].	showProjects _ projects isEmpty not and: [projects size < 50].	showTexts _ texts isEmpty not and: [texts size < 50].	aMenu _ MenuMorph new		defaultTarget: self;		title: 'Add a Link'.	showProjects ifTrue: [		"Alphabetically Sorted Projects"		aSubMenu _ MenuMorph new defaultTarget: self.		(projects asSortedCollection: [:a :b | ((a at: 3) asLowercase) < ((b at: 3) asLowercase)]) do: [:arr | aSubMenu add: (arr at: 3) selector: #addLinkToPageNumber: argument: (arr at: 1)].		aMenu add: 'to project page [A-Z]' subMenu: aSubMenu.		"Numerically Sorted Projects"		aSubMenu _ MenuMorph new defaultTarget: self.		projects do: [:arr | aSubMenu add: ((arr at: 1) asString, '. ', (arr at: 3)) selector: #addLinkToPageNumber: argument: (arr at: 1)].		aMenu			add: 'to project page [1-..]' subMenu: aSubMenu;			addLine].	showTexts ifTrue: [		"Alphabetically Sorted Projects"		aSubMenu _ MenuMorph new defaultTarget: self.		(texts asSortedCollection: [:a :b | ((a at: 3) asLowercase) < ((b at: 3) asLowercase)]) do: [:arr | aSubMenu add: (arr at: 3) selector: #addLinkToPageNumber: argument: (arr at: 1)].		aMenu add: 'to text page [A-Z]' subMenu: aSubMenu.		"Numerically Sorted Projects"		aSubMenu _ MenuMorph new defaultTarget: self.		texts do: [:arr | aSubMenu add: ((arr at: 1) asString, '. ', (arr at: 3)) selector: #addLinkToPageNumber: argument: (arr at: 1)].		aMenu			add: 'to text page [1-..]' subMenu: aSubMenu;			addLine].	aMenu add: 'to page named...' action: #addLinkNamed.	aMenu add: 'to URL...' action: #addUrlLink.	aMenu popUpEvent: self currentEvent in: self currentWorld! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 9/24/2001 13:41'!addLinkNamed	"Ask for a name and then see if it matches a page.	If so, create a link to that page. If not, create a link to a new page"	| name matches |	name _ FillInTheBlank request: 'Enter the Page''s Name'.	(name = '') ifTrue: [^self]. "Cancelled add link"	matches _ pagesInformation select: [:arr | (arr at: 3) = name].	matches isEmpty		ifTrue: ["Add a link to a new page"			self addLinkToNewPageNamed: name]		ifFalse: ["Add a link to an existing page"			self addLinkToPageNumber: ((matches at: 1) at: 1)]! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/28/2001 18:38'!addUrlLink	"Create a link to a URL"	| request |	request _ FillInTheBlank request: 'Enter the Full URL'.	(request = '') ifTrue: [^self].	self addLinkToUrl: request! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/25/2001 17:28'!changeLockPassword	| request |	request _ FillInTheBlank request: 'Change lock password to...' initialAnswer: (self pageLockPassword).	request isEmpty ifTrue: [^self].	self		pageIsLocked: true;		pageLockPassword: request;		hasChanged: true.	saveButton state: #lockedOkay! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/25/2001 17:23'!changeName	| request id |	request _ FillInTheBlank request: 'Change name to...' initialAnswer: (self pageName).	request isEmpty ifFalse: [(id _ self idForName: request)		ifNil: [self			pageName: request;			hasChanged: true]		ifNotNil: [(self pageId = id) ifFalse: [			PopUpMenu notify: 'That name is already taken']]]! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/4/2001 13:09'!changeSize	MenuMorph new		defaultTarget: self;		title: 'Change embed size to...';		add: (self pageWidth asString, ' x ', self pageHeight asString, ' currently') action: #yourself;		addLine;		add: '640 x 480 VGA' selector: #pageSize: argument: 640@480;		add: '752 x 450' selector: #pageSize: argument: 752@450;		add: '800 x 600 SVGA' selector: #pageSize: argument: 800@600;		add: '1024 x 768 XGA' selector: #pageSize: argument: 1024@768;		popUpEvent: self currentEvent in: self currentWorld! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/25/2001 14:54'!embed	embedButton state: #inEffect.	fullScreenButton state: #normal.	ScreenController new fullScreenOff! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/26/2001 17:45'!enterServerPassword	| request |	request _ FillInTheBlank request: 'Lock Password is...' initialAnswer: ''.	request isEmpty ifTrue: [^self].	"Check with server if the password matches"	(self serverPasswordMatches: request)		ifTrue: [self pageMatchingPassword: request.			self pageLockPassword: request.			saveButton state: 'lockedOkay']		ifFalse: [PopUpMenu notify: 'That password does not match']! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/25/2001 14:53'!fullScreen	embedButton state: #normal.	fullScreenButton state: #inEffect.	ScreenController new fullScreenOn! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/25/2001 14:43'!hideFlaps	CurrentProjectRefactoring xxxCurrent flapsSuppressed: true.	hideFlapsButton state: #inEffect.	showFlapsButton state: #normal! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/26/2001 11:36'!pageInformationMenu	| aMenu |	aMenu _ MenuMorph new		defaultTarget: self;		title: 'Page Information';		add: 'name...' action: #changeName;		add: 'embed size...' action: #changeSize;		addLine.	self pageOnServerIsLocked		ifTrue: [self pageHasMatchingPassword			ifTrue: [self pageIsLocked				ifTrue: [aMenu					add: 'unlock' action: #unlockPage;					add: 'password...' action: #changeLockPassword]				ifFalse: [aMenu					add: 'lock...' action: #changeLockPassword]]			ifFalse: [aMenu				add: 'password...' action: #enterServerPassword]]		ifFalse: [self pageIsLocked			ifTrue: [aMenu				add: 'unlock' action: #unlockPage;				add: 'password...' action: #changeLockPassword]			ifFalse: [aMenu				add: 'lock...' action: #changeLockPassword]].	aMenu popUpEvent: self currentEvent in: self currentWorld! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/26/2001 17:47'!save	self saveAndForwardTo: self viewUrl! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/25/2001 14:43'!showFlaps	CurrentProjectRefactoring xxxCurrent flapsSuppressed: false.	self hasChanged: true.	hideFlapsButton state: #normal.	showFlapsButton state: #inEffect! !!SwikiControls methodsFor: 'user interaction' stamp: 'je77 10/25/2001 17:27'!unlockPage	self pageIsLocked: false.	saveButton state: #normal! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!SwikiControls class	instanceVariableNames: ''!!SwikiControls class methodsFor: 'instance creation' stamp: 'je77 12/31/2001 14:46'!newInPlugin	"Launch Swiki controls inside a plug-in image"	| params |	params _ AbstractLauncher extractParameters.	^self new		pageId: (params at: 'PAGEID') asNumber;		pageOnServerIsLocked: ((params at: 'LOCKED') = 'true');		pageWidth: (params at: 'WIDTH') asNumber;		pageHeight: (params at: 'HEIGHT') asNumber;		bookUrl: (params at: 'BOOKURL');		types: (params at: 'TYPES');		yourself! !LinkMorph subclass: #SwikiLinkMorph	instanceVariableNames: 'id '	classVariableNames: ''	poolDictionaries: ''	category: 'Swiki-Navigation'!!SwikiLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:11'!controls: aSwikiControls	| realId |	super controls: aSwikiControls.	"Make sure the link is new"	self isANewLink ifTrue: [		realId _ controls idForName: self name.		realId ifNotNil: [self id: realId]].	self isANewLink		ifTrue: [self installSubmorphsNew]		ifFalse: [self isAProjectLink			ifTrue: [self installSubmorphsProject]			ifFalse: [self installSubmorphsText]]! !!SwikiLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:10'!editUrl	^(controls viewUrlForId: self id), '.edit'! !!SwikiLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:09'!id	^id! !!SwikiLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:09'!id: anInteger	id _ anInteger! !!SwikiLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:09'!name	^id! !!SwikiLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:09'!name: aString	id _ aString! !!SwikiLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:16'!url	^self viewUrl! !!SwikiLinkMorph methodsFor: 'accessing' stamp: 'je77 10/28/2001 18:10'!viewUrl	^controls viewUrlForId: self id! !!SwikiLinkMorph methodsFor: 'event handling' stamp: 'je77 10/28/2001 18:13'!handlesMouseDown: evt	^self isANewLink not! !!SwikiLinkMorph methodsFor: 'initialization' stamp: 'je77 10/28/2001 18:19'!installSubmorphsNew	| stringMorph container createButton |	self removeSubmorphs.	container _ Morph new		color: Color transparent;		changeTableLayout;		layoutInset: 6@2;		listDirection: #leftToRight;		yourself.	stringMorph _ StringMorph contents: self name.	stringMorph		emphasis: 1;		color: Color blue darker.	createButton _ SimpleButtonMorph newWithLabel: 'create'.	createButton		borderRaised;		borderWidth: 2;		color: Color veryVeryLightGray;		target: self;		actionSelector: #create.	container		addMorph: createButton;		addMorph: (container transparentSpacerOfSize: 5@3);		addMorph: stringMorph;		hResizing: #shrinkWrap;		vResizing: #shrinkWrap.	self addMorphFront: container! !!SwikiLinkMorph methodsFor: 'initialization' stamp: 'je77 10/28/2001 18:19'!installSubmorphsProject	| stringMorph container thumb |	container _ Morph new		color: Color transparent;		changeTableLayout;		layoutInset: 6@2;		listDirection: #leftToRight;		yourself.	stringMorph _ StringMorph contents: (controls nameForLink: self).	stringMorph		emphasis: 1;		color: Color blue darker.	container		addMorph: stringMorph;		hResizing: #shrinkWrap;		vResizing: #shrinkWrap.	thumb _ controls thumbnailForLink: self.	self removeSubmorphs.	self addMorphFront: container.	self addMorphFront: thumb! !!SwikiLinkMorph methodsFor: 'initialization' stamp: 'je77 10/28/2001 18:19'!installSubmorphsText	| stringMorph container |	container _ Morph new		color: Color transparent;		changeTableLayout;		layoutInset: 6@2;		listDirection: #leftToRight;		yourself.	stringMorph _ StringMorph contents: (controls nameForLink: self).	stringMorph emphasis: 1; color: Color blue darker.	container		addMorph: stringMorph;		hResizing: #shrinkWrap;		vResizing: #shrinkWrap.	self removeSubmorphs.	self addMorphFront: container! !!SwikiLinkMorph methodsFor: 'page creation' stamp: 'je77 12/31/2001 14:54'!create	| menu |	menu _ MenuMorph new		defaultTarget: self;		title: 'Create New Page As...'.	controls types do: [:type | menu		add: ((type = 'text-default')			ifTrue: ['blank TEXT']			ifFalse: [(type = 'project-default')				ifTrue: ['blank PROJECT']				ifFalse: [type copyAfter: $-]])		selector: #createAsType:		argument: type].	^menu		addLine;		add: 'cancel' action: #yourself;		popUpEvent: self currentEvent in: self currentWorld! !!SwikiLinkMorph methodsFor: 'page creation' stamp: 'je77 12/31/2001 14:57'!createAsType: type	"Create self as type"	controls createLink: self asType: type.	"Save current page, move to new page"	controls saveAndForwardTo: ((type beginsWith: 'text')		ifTrue: [self editUrl]		ifFalse: [self viewUrl])! !!SwikiLinkMorph methodsFor: 'testing' stamp: 'je77 10/28/2001 18:21'!isANewLink	^id isKindOf: String! !!SwikiLinkMorph methodsFor: 'testing' stamp: 'je77 10/28/2001 18:21'!isAProjectLink	^controls isThisAProjectLink: self! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!SwikiLinkMorph class	instanceVariableNames: ''!!SwikiLinkMorph class methodsFor: 'instance creation' stamp: 'je77 10/28/2001 18:23'!newId: idNumber controls: aSwikiControls	^self new		id: idNumber;		controls: aSwikiControls;		yourself! !!SwikiLinkMorph class methodsFor: 'instance creation' stamp: 'je77 10/28/2001 18:23'!newName: newPageName controls: aSwikiControls	^self new		name: newPageName;		controls: aSwikiControls;		yourself! !"Postscript:This adds the proper icons to the SlideShow class"ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ ¢ÿ ÀÀÀÌÿÿÌÌÿ33™  Ö         !!ù    ,    $ $  Í³Üşğ)A«½8ã¥»ÏÜ''záh^%U¬lë¾,:XE`ßx®ß…UÖ» 0Ğ£„€Ãd®x¼6¨PŠcÎÈ uø$è¬*œtÜõF½]+FCËZ3œg¼fÉç|ÜL4rzsjua€ƒ‚q‹…~v€e‘’’J—D†‡˜CE4œBŸ40¦¦2''ª)«#­®°±³££¶¸"¶-*+Á¹ W·X*ÈÊ$Æ1E=Ğ¾Í4ÉÒÒ²ÔÀXÂİÑÈÄ»´©äÓæ¾
ëì	 ;'; yourself)) atKey: #SwikiAddLink.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ ¢ÿ ÀÀÀİİÿÌÿÿ33™  Ö         !!ù    ,    $ $  Í³Üşğ©@«½8ã¥»ÏÜ''záh^%U¬lë¾,:X…`ßx®ß…UÖ» PĞ£„€Ãd®x¼6¨PŠcÎHuø$è¬*œtÜõF½]+FCËZ3œg¼fÉç|ÜL4rzsjua€ƒ‚q‹…~v€e‘’’J—D†‡˜CE4œBŸ40¦¦2''ª)«#­®°±³££¶¸"¶-*+Á¹ W·X*ÈÊ$Æ1E=Ğ¾Í4ÉÒÒ²ÔÀXÂİÑÈÄ»´©äÓæ¾
ëì	 ;'; yourself)) atKey: #SwikiAddLinkDown.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ Äÿ ÿÿÿÿ))ÿ  ÀÀÀÎÎÎÌÌÿ¬¦Ô ÇœœœšœÑ—”ÌŒŸÀŠ}ÌcccJJÿDDÌ9ªW33™111 œÿ                                    !!ù   ,    $ $  ÿàdiè)lë¾prmÇô­Ûy!!!!É/8H PBiõ’Ğht2A8#-"`Ëíz¹Hª•õD•fixÍ~ßpo£ÍB |ã®çdXu~„rtv
…~w‡v‹„€O _[š…”–[£¦§¤©]Ÿ‚ˆ 	¢¤§ª©\­n²£´¦·¸n™› ^Âºƒ’_¤[Í¯…Ö Ù ÑÃ•®vÏ~ÓjäR‡;é.=êíìíéï7Móë®;ô6ùŞ.š,š éláï_Abÿ
TÈ°@“…‡:L8q¡Dˆ''¤ø°!!G{ıüA|xp Ãƒüà¹»§R‡¼–5F<˜I³¦Í›8oF ;'; yourself)) atKey: #SwikiEmbed.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ Äÿ ÿÿÿÿ))ÿ  ÀÀÀİİÿÎÎÎ¬¦Ô ÇœœœšœÑ—”ÌŒŸÀŠ}ÌcccJJÿDDÌ9ªW33™111 œÿ                                    !!ù   ,    $ $  ÿàdiè)lë¾prmÇô­Û9!!!!É/8H PBiõ’Ğht2A8#-"`Ëíz¹Hª•õD•fixÍ~ßpo£ÍB |ã®çdXu~„rtv
…~w‡v‹„€O _[š…”–[£¦§¤©]Ÿ‚ˆ 	¢¤§ª©\­n²£´¦·¸n™› ^Âºƒ’_¤[Í¯…Ö Ù ÑÃ•®vÏ~ÓjäR‡;é.=êíìíéï7Móë®;ô6ùŞ.š,š éláï_Abÿ
TÈ@“…‡:L8q¡Dˆ''¤ø°!!G{ıüA|xp Ãƒüà¹»§R‡¼–5F<˜I³¦Í›8oF ;'; yourself)) atKey: #SwikiEmbedDown.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ Äÿ ÿÿÿÿ))ÿ  ÀÀÀÎÎÎ¬¦Ô ÇœœœšœÑ™™ÿ—”ÌŒŸÀŠ}ÌcccJJÿDDÌ9ªW33™111 œÿ                                    !!ù   ,    $ $  ÿàdiè)&lë¾prmÇô­Ûy"É/8H PBiõ’Ğht298#-"`Ëíz¹Hª•õD•fixÍ~ßpo£Í: |ã®çdXu~„rt	v
…~w‡v‹„€	O _[š…”–[£¦§¤©]Ÿ‚ˆ ¢¤§ª©\­n²£´¦·¸n™› ^Âºƒ’_¤[Í¯…Ö Ù ÑÃ•®vÏ~ÓjäR‡;é.=êíìíéï7Móë®;ô6ùŞ.š,š éláï_Abÿ
TÈ0A“…‡:L8q¡Dˆ''¤ø°!!G{ıüA|xp Ãƒüà¹»§R‡¼–5F<˜I³¦Í›8oF ;'; yourself)) atKey: #SwikiEmbedIE.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ # Äÿ ÿÿÿÿ))ÿ  çÿçÀÀÀÌÌÿÌÌÌ¬¦Ô ÇšœÑ™™™—”ÌŒŸÀŠ}ÌJJÿ9ªW33™                                             !!ù   ,    $ #  ë TŒdiè	‰iëªì+·+¹ x®ï< À©6:ôHœpD, x‘.šŠe¡ÙÀ¾x.rå0–ğ‚ÇŸ¹¬Äj›÷.ÓÓVk$PR T;jL1UH`VA‚#GAw•<—’Œ$›‰@“=~¨g˜¥§©fJ[š¢®_h±M¡H«Ÿ”º=¼² ¿<Á¹UÉ Ì;Æ13Ñ%MÒÕÔÕÑ×)&ÜÜ/Ú''ß%Ş2áäQßåã4ĞÛêğòàî(åò÷.çäóëæõâF¤Ã÷¶}Q Lh#JœH‘" ;'; yourself)) atKey: #SwikiFullScreen.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ # Äÿ ÿÿÿÿ))ÿ  ÀÀÀçÿçİİÿÌÌÌ¬¦Ô ÇšœÑ™™™—”ÌŒŸÀŠ}ÌJJÿ9ªW33™                                             !!ù   ,    $ #  ë TŒdiè	‰iëªì+·+¹ x®ï< @©6:ôHœpD, x‘.šŠe¡ÙÀ¾x.rå0–ğ‚ÇŸ¹¬Äj›÷.ÓÓVk$PR T;jL1UH`VA‚#GAw•<—’Œ$›‰@“=~¨g˜¥§©fJ[š¢®_h±M¡H«Ÿ”º=¼² ¿<Á¹UÉ Ì;Æ13Ñ%MÒÕÔÕÑ×)&ÜÜ/Ú''ß%Ş2áäQßåã4ĞÛêğòàî(åò÷.çäóëæõâF¤Ã÷¶}Q LhÂ€#JœH‘â€ ;'; yourself)) atKey: #SwikiFullScreenDown.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ # Äÿ ÿÿÿÿ))ÿ  çÿçÀÀÀÌÌÌ¬¦Ô ÇšœÑ™™ÿ™™™—”ÌŒŸÀŠ}ÌJJÿ9ªW33™                                             !!ù   ,    $ #  ë ”Œdiè	‰iëªì+·+¹ x®ï< À©62ôHœpDLx‘.šŠe¢ÙÀ¾x.rå0†ğ‚ÇŸ¹¬Äj›÷.ÓÓVk$PR T;jL1UH`VA‚#GAw•<—’Œ$›‰@“	=~¨g˜¥§©fJ[š¢®_h±M¡H«Ÿ”º=¼² ¿<Á¹UÉ Ì;Æ13Ñ%MÒÕÔÕÑ×)&ÜÜ/Ú''ß%Ş2áäQßåã4ĞÛ	êğòàî(åò÷.çäóëæõâF¤Ã÷¶}Q Lh#JœH‘" ;'; yourself)) atKey: #SwikiFullScreenIE.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ ÷ÿ ÿ÷Œÿï”ÿïsÿïkÿÎÿÎÿÎ ÿÆ ÿœµ÷Ş„÷Ş{÷ÖŒ÷ÆÎ÷Æ{÷Æ÷Æ ÷­Î÷s„÷cs÷Zc÷RcïÎçï½sïk{ïc{ïcsïZsïZkçŞ­çÆ1ç½Zçµç­Şçœ¥çœœç”½ç”ŒçŒ”ç{œç{„çs”çRsçRkÀÀÀŞŞŞŞÖÖŞÖÎŞÎcŞÆœŞ½ŒŞ½„ŞµsŞµ!!Şµ ŞRRÖÎŞÖÆµÖ½ïÖµ{Ö­!!Ö¥!!Öœ½Ö„{Ö{œÖJkÎÖÿÎÎÿÎÆÿÎÆ÷ÎÆÖÎ½­Îµ„Î¥kÌÌÿÆÎÿÆÆçÆ½çÆµµÆ¥œÆ„RÆk{ÆcŒ½Æ­½½ÿ½œ)½”)½” ½1R½  µµÿµµçµµµµµ”µ¥÷µ¥¥µ”cµ”ZµŒ9µ{¥µ1J­­ÿ­­÷­¥÷­ZZ¥¥ÿ¥¥÷¥ŒZ¥Œ!!¥Œ ¥ksœ¥ÿœœÿœœ÷œœïœœœœ„œ„ œ{ œ””ÿ”Œÿ”)9”ŒŒÿŒŒ÷ŒŒïŒŒ½ŒŒµŒ„ïŒR”Œ)„Œÿ„„÷„„ï„„Î„„µ„sR„cZ„J„{„÷{k÷{Rkssÿsk÷skBsZ„sRks19s)!!ksÿkkœkk”kkŒkcJkRRckŒccŒcBsc!!)DDÌ33™                                                                                                                                                                                                                                                                                             !!ù  + ,    $ $  ÿ W€H° Áƒ
LÂ°¡Ã‡#B(±"C0p±˜„"Ç‡JZ$°`	‹?2	@Á0_¼,©˜ò#ËÔ B¤#%kZTr#€ ;dÉ¤£ A©L²„Ã 8ğ°@†…C‚Jå¨¤‡²xP€G*M‚ …Ê°¦’!!w•èU"¤DˆÔøğÀJ5M„YLÄaÊ!!S"gAƒæM—
$lHq``6tÂœÀ aCi9 RÄ92™7oÌ@`àK.>°™ó…
&L !!Gİ±­µ”9ç(¶œ±3I$5>LH˜°;…î0 ÿõ8%‹r8‡Ş¸!!9‰(yêôÃ†à¾s¾á8Ã)ZøÁÜpÀ!!†
@\‘Ç$’‚‡	à§_~ùià_Y¤A zpøGcè!!H €XÂ
üM¨\ø‡oü‡4¢H$ƒrI!!)x×…ŞµØÑXhÀñÇ‹~ Ù‡%ƒlÂÉ%‹0Òİ~@æÇİxDÂVhÜÁÇ„‚I!!„8òH
ß¥Y%ÉPe•½Ñå {Ğ)f™•<¢T®($E,*è „jè nN¥¨cc-º¨P~i¤(5
Q(aÚ¦’Zú§—N5)C¡”J*©¦&‘ªD£ªz*¦šÂ2z*«fúª«®–ºjTÅšë­µêk¬©êJS­”›¬¨È.Õ''ĞF+í´ÔVK-( ;'; yourself)) atKey: #SwikiHideFlaps.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ ÷ÿ ÿ÷Œÿï”ÿïsÿçkÿÎÿÎÿÆ ÿœµÀÀÀ÷Ş„÷Ş{÷ÖŒ÷ÆÎ÷Æ{÷Æ÷Æ ÷­Î÷{”÷s„÷k{÷ks÷cs÷ck÷ZcïÎçï½sï„œï„”ï{”ïcsïZsïZkççÖçŞÿçŞÎçŞ­çÆœçÆ1ç½Zç½)çµç­Şçœ½çœ¥ç”œç”ŒçRkŞçÿŞŞŞŞÖ÷ŞÎïŞÎÖŞÎµŞÎcŞ½ŒŞ½„ŞµsŞµ!!Şµ Ş­½ŞŒ{Ş{œŞRRİİÿİİİÖÎçÖ½­Öµ{Ö­!!Ö¥!!ÖJkÎÎÿÎÆµÎµ„Î¥kÎŒRÍÍÿÆÆÿÆÆïÆÆçÆk{ÆcŒ½Æ­½½÷½­÷½­¥½œ)½” ½Œ9½„¥½1R½  µµÿµµ÷µµµµµ”µ­÷µ”cµ”Zµ”)µ)J­­ÿ­­÷­¥ï­ZZ¥­ÿ¥­÷¥¥ÿ¥¥÷¥¥½¥ŒZ¥Œ!!¥Œ ¥ksœœœœ”ÿœ„œ„ œ{ œ””ÿ””÷””ï””½””µ”R””)9”Œ”ÿŒŒ÷ŒŒïŒ„ïŒ„ÎŒ)„„÷„{Z„sR„cZ„Zk„J„{{ÿ{s÷s{ÿssÿssœss”ssŒskBsc„sRks19s)!!ksŒkkŒkcJkRRkJsc!!)EEÌDDÌ33™                                                                                                                                                                                                                                                                                             !!ù   ,    $ $  ÿ €H° Áƒ
üÁ°¡Ã‡¼ˆèp Å‹E 1ã‹!!‚H!!ƒ’ )‚Ù 8Äˆ©äâJ– 8Ñ¡!!6b¨Å’!! ¹‘DÓB†2b€ƒ˜Xp#ƒ©_ì`¡  VX‹Xƒ$åÃ›_lXQã(\±óIˆ€…6¼y¤Iá2ˆ©`háCŠDrÀ©ƒ…Ã,X˜ c0Q†G
áRfªl‰ó¥
8t–p°p¡¶m
?~.ÜÄI>kÒ¤8ÀÁš;–6MrÃ#B…´£×Àdè'']Øğ1SF…Pä$ÿºÔ‰SlK^}÷“6|´¯Q“Å…-~,U"„=ôõ¶UĞ?LaF|jğqÆgDAÆ…ô!!$yp`tjv€ºX†|eÄÇG‚Š,B	 D2Hÿi(İ†şPÚvÚ¥aÆz@&™DbH#\˜!!†äaiˆ!!6G€ (‰ 8Ò‹šX[‘Ÿ!!‰Økàá%H#4âÁ…ëÑ†å@´éæ›pÆ)ç›ºeç[Ÿİy''\z†ÄgŸıÉP(Ú¡~æ	¢‹%è¡D:è ’BÊ(DJè¦“jj“¢yÊ)¤–VQ¦’Jê¥§‚Zhª¥R Êªg€Úùh­xâÊÒ@Ÿôêë¯Ÿxl¯Â;¬±½‚ ;'; yourself)) atKey: #SwikiHideFlapsDown.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ ÷ÿ ÿ÷”ÿ÷ŒÿïsÿïkÿŞ{ÿÎÿÎÿÆ ÿ¥µ÷Ş„÷ÖŒ÷ÆÎ÷Æ{÷Æ÷Æ ÷s„ïÆsï½sï¥Îïœœï”Œï„”çŞ­çÆççÆ1ç½Zç½)ç½çµçœ¥ç„”çZkçJcçBcŞÎcŞ½„Şµ{ŞµsŞµ!!Şµ Ş¥ŞŞ”½ŞR{ŞRsŞRRŞJ{ŞJsŞJkÀÀÀÖµœÖµ{Ö­ŒÖ­!!Ö¥!!ÖJkÎµ„Î­kÎcœÎc„ÎZ”ÌÌÌÆ­µÆ¥œÆs{Æk{½Æ­½½Ö½µÖ½µÎ½¥­½œ)½œ ½{R½cœ½ZŒ½1R½1J½  µµ”µ­Şµ”cµ”Zµ{½­¥ï­¥Ö­¥µ­Œ ­„9­ZZ¥­ÿ¥”ï¥”µ¥”¥¥„!!¥k¥¥ksœœÿœœ÷œœœœ”ÿœ”÷œ”çœ„÷œ„Zœ„œ„ œ{ œ™™ÿ”œÿ””ÿ”)9”ŒŒÿŒŒïŒŒçŒ)„„ÿ„„÷„„ç„{ï„{Z„sR„cZ„B”{„ÿ{{ÿ{{÷{sÿ{19ssÿss½sk÷skïskÎskBsRks9„s)!!ksÿksïkk÷kkïkk½kkµkc÷kcJkZ÷kRRkBkck÷ck½ccÿccµc!!)ZcÿZJ„Z9sRR”RRŒJRœJJŒEEÌDDÌ33™                                                                                                                                                                                                                                                                                 !!ù  0 ,    $ $  ÿ aH° Áƒ
dÃ°¡Ã†`"JtÆM‰#2ø°cG7nˆÄèAeŒÇ†Oz¬($„8Ê´Q™R¥Ã1n„`P"J.eh’²yÓÍ 4@Ñ“GÆ0''kÚÓæI hŒ¸!!‰ƒ"n<J]YqŠ…hAÁˆ3Lvû±”	8Ø»·†#UfÎjÓMDì=ÁÁÁ5]¶¸!!C™ŒÃ”ã¸‰§N?f.P`¤Á&¬¤¹¢£…‹¯UhAI$g7ŸıØ‘°ÀG“/N0l°‚É ’+w1›MÊÍqäØäÇ
ª`YˆÒ¡3?v¬ÿ ñ‚<ù Tl¬g?™şôIñ`1{iê”$‡
åå‚ë1äÆƒÄGİ^|`Ão‚ˆ!!€øG€/ ‚²‡ñÁ‡Ç%x(ÁtğQ(„ìzX‡Îæ|ÕAßT’''‹4â‰#È½`$† „°B‡uğø7>Â(‹„Š''–DbƒrÉ!!IcJÕ…éÇg„"H#Ÿ8Ò&“i¤yå%÷%a9¦™‹˜‰æš›X‚€p–·dlğ`è¡ˆ&ªè¢ˆJÔ£6Ñé¤Rji¥—N*)C¥8ÔiCŸ>º)¡vTj¤„yTÊªœrÊ*©§>A4ê§ÖÚ*­B©„«­¤ÂúªX©šzk¯½Æ:˜®Ãúêª±fªi°Î5j´²’2ÊµØf;Š(Û^Ë­¶İ‚{-) ;'; yourself)) atKey: #SwikiHideFlapsIE.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ ¢ÿ ÿÿÿÀÀÀÌÌÿ33™            !!ù   ,    $ $  ¬³Üşğ)A«½8ã¥»ÏÜ''záh^eF¬lKŒ)F tMÏï_³]÷¹ÎÎÒóŠAĞÀS¼áZ¤e§y¤&7RÕxŒ2}+°w
¶µe±0«JÛ®(¶Ìı;·¬·}××_\z€d‚C.‹,{''&‰’:r”•—'';P+ „D¡¤9/§£Š¥Ÿ¨¥J2¯³µ˜<¢œ®A›S¬"¿Spª™$
ÊË	 ;'; yourself)) atKey: #SwikiPageInformation.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ ¢ÿ ÿÿÿÀÀÀİİÿ33™            !!ù   ,    $ $  ¬³Üşğ)A«½8ã¥»ÏÜ''záh^eF¬lKŒ)F tMÏï_³]÷¹ÎÎÒóŠAĞÀS¼áZ¤e§y¤&7RÕxŒ2}+°w
¶µe±0«JÛ®(¶Ìı;·¬·}××_\z€d‚C.‹,{''&‰’:r”•—'';P+ „D¡¤9/§£Š¥Ÿ¨¥J2¯³µ˜<¢œ®A›S¬"¿Spª™$
ÊË	 ;'; yourself)) atKey: #SwikiPageInformationDown.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ Äÿ ÀÀÀL4+G?(BI&>T#9^ 4i33™/t+~&ˆ!!“¨³½
ÈÒ İ                                        !!ù    ,    $ $ @ø pŒdiè)Jlë¾p¬ RR<Ò,B€•D†$ D ‹&«Zg‡«öJİz_İ¯¸[˜d@`@XÀÀõ˜<IXìİóµ~V‚2]
-
p,‰-
oSY
eJ

e-ª57¯›…}œ³\µ¶U„¹-»¼z¸¿`ÁÂ½ÄÅÀÈXÊÃÌ.]Bgpf,Q,”Õ±ÉKBJ”eCIŒ6Ô²®¤@eøê9Ô"aĞ Anáà8È£ğË«gÇŠùâ51WE[ge,t@DŠ U„  ;'; yourself)) atKey: #SwikiSave.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ Äÿ ÀÀÀL4+JA,IM,GZ-Fg-Dt.C€.A/@™/>¦/<³0;¿09Ì18Ù16æ25ò23ÿ333™                                       !!ù    ,    $ $  ÷  diè)Flë¾prmÇô­Ûùî¿½Ÿ0(ô‹º#’''Yş”N\3šœR™×[²H, ­‡"Á`=È¬nË‘P<Z=B`N0æKPix,9

r,|…Sršis,™`‡w¢f	«š		«-Å,‡Ë„9ˆ¿‘«Ğ-we{€ÎV«t`˜o.sã.÷¹?Ë.P²à(# @ƒY^QH…a‡N .‘ˆ„b‹C¬""…Ç*B  ;'; yourself)) atKey: #SwikiSaveDown.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ Õÿ ÿ  ôğ  ï  î  ë  éÀÀÀİ
İ  ÒÒ  ÇÅ  ½  ¼°¯  ®  ¥¤  ¢     ›   „$  {  y'' s  p  n*#n  l  h  g  b-&_  X  W1(W  U  S  M  L4+H  A  8  33™                    
          !!ù   ,    $ $  ÿÀClH,È£Àl:ŸĞ(t(­Z£Ô«ÖšİzŸİ¯8,ö’ËÚ3š[Õnl;ÓÙ÷k7ğ˜<ML„L}MM] -“ †(“-L(• -‰˜-
LY
-  - ’L-- - œ¥s’(º‰“L¹(€§%—Â†
Ëº-
ËM%åL§
ë¤ Y¨
ß±Ëğ-M—…›(@¹³³Œ \-Phhñ€%œ (1	E«N(¸˜íË:''pò`óâà…0(l	ù$‹
,p!!¡—!!œT0as‹ˆNN"œè©e	° ‚è=pèØƒG§Vtøğ‘‚ÃÖX«àØ*"ÃVa¥ìØºÂÃÖi£ÌÀã†º3âŠÄ¸‹$€+	 ;'; yourself)) atKey: #SwikiSaveLocked.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ Õÿ ÀÀÀÿDDôCBğ@@ï@@î??ë??éBAİA?İ;;Ò@>Ò88Ç?<Å55½22¼>;°=9¯//®..¥<7¤,,¢++ ++›;6:4&&„93""{!!!!y81spn70nlhgb6._XW5-WUSML4+HA833™
      !!ù    ,    $ $  ÿ@@lH,È£0Àl:ŸĞ(t(­Z£Ô«ÖšİzŸİ¯8,ö’ËÚ3š[Õnl;ÓÙ÷kWğ˜<ML„L}MM] -“ †(“-L(•-‰˜-
LY
--’L--- œ¥s’(º‰“L¹(€§%—Â†
Ëº-
ËM%åL§
ë¤Y¨
ß±Ëğ-M—…›(@¹³³Œ \-Phhñ(À%œ (1	E«N(¸˜íË:''pò`óâà…0(l	ù$‹,p!!¡—!!œT0as‹ˆNN"œè©e‰
° ‚è=pèØƒG§Vtøğ‘‚ÃÖX«àØ*"ÃVa¥ìØºÂÃÖi£ÌÀã†º3âŠÄ¸‹$€+	 ;'; yourself)) atKey: #SwikiSaveLockedDown.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ Õÿ ÀÀÀL4+G?(BI&>T#9^ 4i33™/t+~&ˆ!!“¨³½
ÈÒ İ  Ğ  Ï  Î  Ì  À  ¶  «  ¤  ˜  —    Œ  ‹  {  p  k  d  a  _  ^  Z  Y  R  L  K  J  H  C  >  8  1                  
  	            !!ù    ,    $ $  ÿ@ÀaH,È£PÂl:ŸĞ(t(­Z£Ô«ÖšİzŸİ¯8,ö’ËÚ3š{XÕnl;ÓÙ÷k7ÂP0"M
L„L}M
M]“†“L•‰˜LY	’L	œ¥s’º‰“L¹€§—Â†
Ëº

ËMåL§ë¤Y¨ß±ËğM	—…›@¹³³Œ \ğH„ œ<0I@«N 8¸˜íË:''pò`ó¢†1:l	ùä‚‹,`xÁ¡—%œxHas‹	NN6¨è©åŠ	*LøÀ‚è<näĞqcG§Vrôè±BÄVX«ÜØjÄÖa¥èØÚbÄVi£Ì¸qÃFº3âŠÄ¸‹$€+	 ;'; yourself)) atKey: #SwikiSaveLockedOkay.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ $ Õÿ ÀÀÀL4+JA,IM,GZ-Fg-Dt.C€.A/@™/>¦/<³0;¿09Ì18Ù16æ25ò23ÿ333™0ğ00ï00î0/ë/,İ,*Ò*''Å''&½&#¯##®#!!¤!! ¢    {spnlhg_XWUSMHA8
      !!ù    ,    $ $  ÿ@€dH,È£0Âl:ŸĞ(t(­Z£Ô«ÖšİzŸİ¯8,ö’ËÚ3š+YÕnl;ÓÙ÷k²H, M
	L„L}M	
M]“†“L•‰˜LY

’Lœ¥s’º‰“L¹€§—Â†	Ëº		ËMåL§ë¤Y¨ß±ËğM—…›@¹³³Œ \ğ(Âƒ œ80I@«N4¸˜íË:''pò`ó¢†1:l	ùä‚‹,`xÁ¡—%œxHas‹	NN6¨è©åŠ	*LøÀ‚è=pèØƒG§Vtøğ±BÄÖX«àØjÄVa¥ìØÚbÄÖi£ÌÀã†º3âŠÄ¸‹$€+	 ;'; yourself)) atKey: #SwikiSaveLockedOkayDown.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ # ¢ÿ ÿ))ÀÀÀİİİÌÌÿJJÿ33™      !!ù   ,    $ #  ¼X³Üşğ«•ôê:·‡İ''.áø•æ†¦×ÊrÙ@ÌtM/@®ï@SÚÀo˜c„hB2H#I”ÙrÉ$8yĞ…Òœr·Ëë.+SJÍæ©U\Ñİ-|Í&Ÿçİ/]l¯Şglmo~T{WY‰Š‹Œ‹n1/0“.•—˜F’/šŸ,š\Ÿ¦\§£™­¢«±±¬®>°­£»´¶´¯¬µ³¾ª½«®ÂÆ›¡›Ğ˜Ö×ØÙÚÚ	 ;'; yourself)) atKey: #SwikiShowFlaps.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ # ¢ÿ ÿ))ÀÀÀİİÿİİİJJÿ33™      !!ù   ,    $ #  ¼X²Üşğ«•ôê:·‡İ''.áø•æ†¦×Êr™@ÌtM/@®ï@SÚÀo˜c„hB2H#I”ÙrÉ$8yĞ…Òœr·Ëë.+SJÍæ©U\Ñİ-|Í&Ÿçİ/]l¯Şglmo~T{WY‰Š‹Œ‹n1/0“.•—˜F’/šŸ,š\Ÿ¦\§£™­¢«±±¬®>°­£»´¶´¯¬µ³¾ª½«®ÂÆ›¡›Ğ˜Ö×ØÙÚÚ	 ;'; yourself)) atKey: #SwikiShowFlapsDown.ScriptingSystem saveForm: (ImageReadWriter formFromStream: ((RWBinaryOrTextStream on: String new) nextPutAll: 'GIF89a$ # ¢ÿ ÿ))ÀÀÀÌÌÌ™™ÿJJÿ33™      !!ù   ,    $ #  ¼X³Üşğ«•ôê:·‡İ''.áø•æ†¦×ÊrÙ@ÌtM/@®ï@SÚÀo˜c„hB2H#I”ÙrÉ$8yĞ…Òœr·Ëë.+SJÍæ©U\Ñİ-|Í&Ÿçİ/]l¯Şglmo~T{WY‰Š‹Œ‹n1/0“.•—˜F’/šŸ,š\Ÿ¦\§£™­¢«±±¬®>°­£»´¶´¯¬µ³¾ª½«®ÂÆ›¡›Ğ˜Ö×ØÙÚÚ	 ;'; yourself)) atKey: #SwikiShowFlapsIE!