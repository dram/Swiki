| pages host return |pages _ book formatPrivAddress: 'changes' request: request response: response shelf: shelf.host _ request raw header at: 'host' ifAbsent: [''].(pages size = 0)	ifTrue: ['none']	ifFalse: [		return _ WriteStream on: String new.		return			nextPutAll: '<book>';			nextPutAll: String crlf;			nextPutAll: '<name>';			nextPutAll: book showName;			nextPutAll: '</name>';			nextPutAll: String crlf;			nextPutAll: '<url>http://';			nextPutAll: host;			nextPutAll: (request referenceShelf: shelf book: book);			nextPutAll: '</url>';			nextPutAll: String crlf;			nextPutAll: '<pages>';			nextPutAll: String crlf.		pages do: [:page | return			nextPutAll: '<page>';			nextPutAll: String crlf;			nextPutAll: '<name>';			nextPutAll: page showName;			nextPutAll: '</name>';			nextPutAll: String crlf;			nextPutAll: '<url>http://';			nextPutAll: host;			nextPutAll: (request referenceShelf: shelf book: book page: page);			nextPutAll: '</url>';			nextPutAll: String crlf;			nextPutAll: '</page>';			nextPutAll: String crlf].		return			nextPutAll: '</pages>';			nextPutAll: String crlf;			nextPutAll: '</book>';			contents]