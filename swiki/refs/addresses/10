(request page)	ifNil: [(request address = 'default')		ifTrue: [book formatPageTemplate: 'view' request: request response: response shelf: shelf page: (book pages at: 1)]		ifFalse: [book pageAlmostNamed: (request address)			ifThere: [:page | book formatPageTemplate: 'view' request: request response: response shelf: shelf page: page]			ifNot: [response at: 'headerStatus' put: #notFound.				book formatBookTemplate: 'addressNotFound' request: request response: response shelf: shelf]]]	ifNotNil: [book formatBookTemplate: 'pageNotFound' request: request response: response shelf: shelf]