| dir file |dir _ (book modulesAt: 'uploads') directoryNamed: 'forms'.file _ request settingsAt: 'formsFileName'.(dir fileRefsExists: file)	ifTrue: [(book modulesAt: 'uploadServer') serveFile: (dir fileVersionsAt: file) last onDir: dir options: (Dictionary new at: 'request' put: request; at: 'response' put: response; yourself)]	ifFalse: [book parent formatPrivAddress: 'formsThumbnail' request: request response: response shelf: shelf]