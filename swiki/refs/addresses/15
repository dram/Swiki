| uploadsDir |"Create uploads"((request fieldsKey: 'uploads' ifAbsent: ['local']) = 'local')	ifTrue: ["local uploads"		book storage dir createDirectory: 'uploads'.		book			settingsAt: 'uploadPath' put: 'uploads';			settingsAt: 'uploadServerPath' put: (request referenceShelf: shelf book: book address: 'uploads/')]	ifFalse: ["global uploads"		uploadsDir _ shelf storage dir directoryNamed: (shelf settingsAt: 'uploadPath').		uploadsDir createDirectory: book name.		uploadsDir _ uploadsDir directoryNamed: book name.		book			settingsAt: 'uploadPath' put: uploadsDir pathName;			settingsAt: 'uploadServerPath' put: ((shelf settingsAt: 'uploadServerPath'), book name, '/')]."Return Success"true