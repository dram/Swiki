| filter renderDir name file |(filter _ book formatPrivAddress: 'filterAdmin' request: request response: response shelf: shelf)	ifNil: ["Render the Swiki"		renderDir _ book modulesAt: 'renderDir'.		"Delete previous rendering"		PageFormatter deleteTreeForDir: renderDir.		"Render Pages"		book pages do: [:page | name _ (page id asString), '.html'.			file _ renderDir newFileNamed: name.			file nextPutAll: (book formatPageTemplate: 'render' request: request response: response shelf: shelf page: page).			file close].		"Render Uploads"		renderDir createDirectory: 'uploads'.		PageFormatter copyTreeFromDir: (book modulesAt: 'uploads') dir toDir: (renderDir directoryNamed: 'uploads').		"Return Success"		book formatBookTemplate: 'renderSuccess' request: request response: response shelf: shelf]	ifNotNil: [filter]