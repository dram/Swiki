| version |(version _ page version: (request fieldsAsNumberKey: 'id' ifAbsent: [0]))	ifNil: [response at: 'headerStatus' put: #notFound.		book formatBookTemplate: 'addressNotFound' request: request response: response shelf: shelf]	ifNotNil: [request settingsAt: 'oldVersion' put: version.		version _ page version: ((request fieldsAsNumberKey: 'id' ifAbsent: [0]) + 1).		version ifNil: [version _ page].		request settingsAt: 'newVersion' put: version.		book formatPageTemplate: 'diff' request: request response: response shelf: shelf page: page]