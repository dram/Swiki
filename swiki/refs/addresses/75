"Save text content, making sure it is OK first"| lockState |(page isOKtoSaveFrom: request)	ifTrue: ["Check for edit conflict"		lockState _ page lockState asString.		(page isOlderThan: request)			ifTrue: ["Check for bad content (i.e. spam bots, porn, etc.)"				(shelf formatPrivAddress: 'includesBadContent' request: request response: response)					ifTrue: [book formatPageTemplate: 'saveFailedBadContent' request: request response: response shelf: shelf page: page]					ifFalse: [book formatPageAction: ('save', lockState) request: request response: response shelf: shelf page: page]]			ifFalse: [book formatPageTemplate: ('conflict', lockState) request: request response: response shelf: shelf page: page]]	ifFalse: ["It's not OK to save"		response at: 'headerStatus' put: #notFound.		book formatBookTemplate: 'addressNotFound' request: request response: response shelf: shelf]