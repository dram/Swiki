| versionId uploadsDir return |versionId _ (request settingsAt: 'version') versionId.uploadsDir _ (book modulesAt: 'uploads') directoryNamed: page id asString.return _ (versionId = 1)	ifTrue: [(page settingsIncludes: 'template')		ifTrue: [request settingsAt: 'formsFileName' put: ((page settingsAt: 'template'), '.pr').			book formatPrivAddress: 'formsFileUrl' request: request response: response shelf: shelf]		ifFalse: [(shelf settingsAt: 'fileServerPath'), 'plug-in/newProject.pr']]	ifFalse: [(book settingsAt: 'uploadServerPath'), uploadsDir httpPath, ((uploadsDir fileVersionsAt: 'project.pr') at: (versionId - 1)) httpName].(return beginsWith: '/')	ifTrue: [(book settingsAt: 'urlPrefix'), return]	ifFalse: [return]