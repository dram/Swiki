"since Plug-in returns the years and days since the datedate is necessary, format is optional"| options error date today year day |options _ request settingsAt: 'options'.error _ nil.date _ options at: 'date' ifAbsent: [	error _ '<b>Since function must have a <em>date</em> field.</b>'].error ifNil: [	[date _ Date fromString: date] ifError: [:a :b |		error _ '<b>Since function is unable to parse <em>date</em> field entry.</b>']].error	ifNil: [		today _ Date today.		(options at: 'format' ifAbsent: ['yd']) caseOf: {			['yd']->["5 years and 4 days"				year _ (today year) - (date year).				day _ (today day) - (date day).				(day < 0) ifTrue: [					year _ year - 1.					day _ day + 365].				String streamContents: [:stream | stream					nextPutAll: year asStringWithCommas;					nextPutAll: ((year = 1) ifTrue: ['&nbsp;year'] ifFalse: ['&nbsp;years']);					nextPutAll: ' and ';					nextPutAll: day asStringWithCommas;					nextPutAll: ((day = 1) ifTrue: ['&nbsp;day'] ifFalse: ['&nbsp;days'])]].			['dy']->["4 days and 5 years"				year _ (today year) - (date year).				day _ (today day) - (date day).				(day < 0) ifTrue: [					year _ year - 1.					day _ day + 365].				String streamContents: [:stream | stream					nextPutAll: day asStringWithCommas;					nextPutAll: ((day = 1) ifTrue: ['&nbsp;day'] ifFalse: ['&nbsp;days']);					nextPutAll: ' and ';					nextPutAll: year asStringWithCommas;					nextPutAll: ((year = 1) ifTrue: ['&nbsp;year'] ifFalse: ['&nbsp;years'])]].			['d']->["394 days"				day _ today subtractDate: date.				String streamContents: [:stream | stream					nextPutAll: day asStringWithCommas;					nextPutAll: ((day = 1) ifTrue: ['&nbsp;day'] ifFalse: ['&nbsp;days'])]].			['y']->["5 years"				year _ (today year) - (date year).				day _ (today day) - (date day).				(day < 0) ifTrue: [year _ year - 1].				String streamContents: [:stream | stream					nextPutAll: year asStringWithCommas;					nextPutAll: ((year = 1) ifTrue: ['&nbsp;year'] ifFalse: ['&nbsp;years'])]].			['adj']->["6th"				year _ (today year) - (date year).				day _ (today day) - (date day).				(day > 0) ifTrue: [year _ year + 1].				(year \\ 100) caseOf: {					[11]->[year asStringWithCommas, 'th'].					[12]->[year asStringWithCommas, 'th'].					[13]->[year asStringWithCommas, 'th']}					otherwise: [(year \\ 10) caseOf: {						[1]->[year asStringWithCommas, 'st'].						[2]->[year asStringWithCommas, 'nd'].						[3]->[year asStringWithCommas, 'rd']}						otherwise: [year asStringWithCommas, 'th']]]}			otherwise: ['<b>Since function only accepts these formats: yd, dy, d, y, and adj.']]	ifNotNil: ["Error"		error]