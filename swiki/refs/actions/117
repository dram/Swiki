| versions uploads |versions _ page versions.versions add: page.uploads _ (book modulesAt: 'uploads') directoryNamed: (page id asString).request settingsAt: 'thumbnails' put: (uploads fileVersionsAt: 'thumbnail.gif').String streamContents: [:stream | versions reverseDo: [:version | stream nextPutAll: (book formatPageTemplate: 'versionsProject' request: request response: response shelf: shelf page: version)]]